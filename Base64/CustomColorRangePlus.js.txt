UmVnaXN0ZXJUYWcoIkN1c3RvbUNvbG9yUmFuZ2VQbHVzIiwgZnVuY3Rpb24gKFJB
V2Z1bmMsIHJhbmdlMSwgcmFuZ2UyLCBjb2xvcjEsIGNvbG9yMiwgZWFzZVJBVykg
ew0KICBsZXQgZnVuYyA9IGV2YWwoUkFXZnVuYyArICIoOCkiKTsNCiAgcmFuZ2Ux
ID0gcmFuZ2UxLnJlcGxhY2UoIiwgIiwgIiIpOw0KICByYW5nZTIgPSByYW5nZTIu
cmVwbGFjZSgiLCAiLCAiIik7DQogIGNvbG9yMSA9IGNvbG9yMS5yZXBsYWNlKCIs
ICIsICIiKTsNCiAgY29sb3IyID0gY29sb3IyLnJlcGxhY2UoIiwgIiwgIiIpOw0K
ICBlYXNlUkFXID0gZWFzZVJBVy5yZXBsYWNlKCIsICIsICIiKTsNCiAgaWYgKGlz
TmFOKGZ1bmMpPT0wKSB7DQogICAgbGV0IG51bVZhbHVlID0gcGFyc2VGbG9hdChl
dmFsKGZ1bmMpLnRvU3RyaW5nKCkpOw0KICAgIGxldCBudW1SYW5nZTEgPSBwYXJz
ZUZsb2F0KHJhbmdlMSk7DQogICAgbGV0IG51bVJhbmdlMiA9IHBhcnNlRmxvYXQo
cmFuZ2UyKTsNCiAgICBpZiAobnVtVmFsdWUgPCBudW1SYW5nZTEpe251bVZhbHVl
ID0gbnVtUmFuZ2UxO30NCiAgICBpZiAobnVtVmFsdWUgPiBudW1SYW5nZTIpe251
bVZhbHVlID0gbnVtUmFuZ2UyO30NCiAgICBsZXQgSU5lYXNlID0gemVyb2FuZG9u
ZShudW1WYWx1ZSxudW1SYW5nZTEsbnVtUmFuZ2UyKTsNCiAgICBsZXQgZWFzZSA9
IElOZWFzZTsNCiAgICBsZXQgZWFzZXN0ciA9IGVhc2VSQVcudG9TdHJpbmcoKS50
b1VwcGVyQ2FzZSgpOw0KICAgIGlmIChlYXNlc3RyID09ICJJTlNJTkUiKXtlYXNl
ID0gZWFzZUluU2luZShJTmVhc2UpO30NCiAgICBpZiAoZWFzZXN0ciA9PSAiT1VU
U0lORSIpe2Vhc2UgPSBlYXNlT3V0U2luZShJTmVhc2UpO30NCiAgICBpZiAoZWFz
ZXN0ciA9PSAiSU5PVVRTSU5FIil7ZWFzZSA9IGVhc2VJbk91dFNpbmUoSU5lYXNl
KTt9DQogICAgaWYgKGVhc2VzdHIgPT0gIklOUVVBRCIpe2Vhc2UgPSBlYXNlSW5R
dWFkKElOZWFzZSk7fQ0KICAgIGlmIChlYXNlc3RyID09ICJPVVRRVUFEIil7ZWFz
ZSA9IGVhc2VPdXRRdWFkKElOZWFzZSk7fQ0KICAgIGlmIChlYXNlc3RyID09ICJJ
Tk9VVFFVQUQiKXtlYXNlID0gZWFzZUluT3V0UXVhZChJTmVhc2UpO30NCiAgICBp
ZiAoZWFzZXN0ciA9PSAiSU5DVUJJQyIpe2Vhc2UgPSBlYXNlSW5DdWJpYyhJTmVh
c2UpO30NCiAgICBpZiAoZWFzZXN0ciA9PSAiT1VUQ1VCSUMiKXtlYXNlID0gZWFz
ZU91dEN1YmljKElOZWFzZSk7fQ0KICAgIGlmIChlYXNlc3RyID09ICJJTk9VVENV
QklDIil7ZWFzZSA9IGVhc2VJbk91dEN1YmljKElOZWFzZSk7fQ0KICAgIGlmIChl
YXNlc3RyID09ICJJTlFVQU5UIil7ZWFzZSA9IGVhc2VJblF1YXJ0KElOZWFzZSk7
fQ0KICAgIGlmIChlYXNlc3RyID09ICJPVVRRVUFOVCIpe2Vhc2UgPSBlYXNlT3V0
UXVhcnQoSU5lYXNlKTt9DQogICAgaWYgKGVhc2VzdHIgPT0gIklOT1VUUVVBTlQi
KXtlYXNlID0gZWFzZUluT3V0UXVhcnQoSU5lYXNlKTt9DQogICAgaWYgKGVhc2Vz
dHIgPT0gIklOUVVJTlQiKXtlYXNlID0gZWFzZUluUXVpbnQoSU5lYXNlKTt9DQog
ICAgaWYgKGVhc2VzdHIgPT0gIk9VVFFVSU5UIil7ZWFzZSA9IGVhc2VPdXRRdWlu
dChJTmVhc2UpO30NCiAgICBpZiAoZWFzZXN0ciA9PSAiSU5PVVRRVUlOVCIpe2Vh
c2UgPSBlYXNlSW5PdXRRdWludChJTmVhc2UpO30NCiAgICBpZiAoZWFzZXN0ciA9
PSAiSU5FWFBPIil7ZWFzZSA9IGVhc2VJbkV4cG8oSU5lYXNlKTt9DQogICAgaWYg
KGVhc2VzdHIgPT0gIk9VVEVYUE8iKXtlYXNlID0gZWFzZU91dEV4cG8oSU5lYXNl
KTt9DQogICAgaWYgKGVhc2VzdHIgPT0gIklOT1VURVhQTyIpe2Vhc2UgPSBlYXNl
SW5PdXRFeHBvKElOZWFzZSk7fQ0KICAgIGlmIChlYXNlc3RyID09ICJJTkNJUkMi
KXtlYXNlID0gZWFzZUluQ2lyYyhJTmVhc2UpO30NCiAgICBpZiAoZWFzZXN0ciA9
PSAiT1VUQ0lSQyIpe2Vhc2UgPSBlYXNlT3V0Q2lyYyhJTmVhc2UpO30NCiAgICBp
ZiAoZWFzZXN0ciA9PSAiSU5PVVRDSVJDIil7ZWFzZSA9IGVhc2VJbk91dENpcmMo
SU5lYXNlKTt9DQogICAgaWYgKGVhc2VzdHIgPT0gIklOQkFDSyIpe2Vhc2UgPSBl
YXNlSW5CYWNrKElOZWFzZSk7fQ0KICAgIGlmIChlYXNlc3RyID09ICJPVVRCQUNL
Iil7ZWFzZSA9IGVhc2VPdXRCYWNrKElOZWFzZSk7fQ0KICAgIGlmIChlYXNlc3Ry
ID09ICJJTk9VVEJBQ0siKXtlYXNlID0gZWFzZUluT3V0QmFjayhJTmVhc2UpO30N
CiAgICBpZiAoZWFzZXN0ciA9PSAiSU5FTEFTVElDIil7ZWFzZSA9IGVhc2VJbkVs
YXN0aWMoSU5lYXNlKTt9DQogICAgaWYgKGVhc2VzdHIgPT0gIk9VVEVMQVNUSUMi
KXtlYXNlID0gZWFzZU91dEVsYXN0aWMoSU5lYXNlKTt9DQogICAgaWYgKGVhc2Vz
dHIgPT0gIklOT1VURUxBU1RJQyIpe2Vhc2UgPSBlYXNlSW5PdXRFbGFzdGljKElO
ZWFzZSk7fQ0KICAgIGlmIChlYXNlc3RyID09ICJJTkJPVU5DRSIpe2Vhc2UgPSBl
YXNlSW5Cb3VuY2UoSU5lYXNlKTt9DQogICAgaWYgKGVhc2VzdHIgPT0gIk9VVEJP
VU5DRSIpe2Vhc2UgPSBlYXNlT3V0Qm91bmNlKElOZWFzZSk7fQ0KICAgIGlmIChl
YXNlc3RyID09ICJJTk9VVEJPVU5DRSIpe2Vhc2UgPSBlYXNlSW5PdXRCb3VuY2Uo
SU5lYXNlKTt9DQogICAgaWYgKGVhc2UgPCAwKXtlYXNlID0gMDt9DQogICAgaWYg
KGVhc2UgPiAxKXtlYXNlID0gMDt9DQogICAgbGV0IHJlZCA9IE1hdGgucm91bmQo
KDEgLSBlYXNlKSAqIHBhcnNlSW50KGNvbG9yMS5zdWJzdHJpbmcoMCwgMiksIDE2
KSArIGVhc2UgKiBwYXJzZUludChjb2xvcjIuc3Vic3RyaW5nKDAsIDIpLCAxNikp
Ow0KICAgIGxldCBncmVlbiA9IE1hdGgucm91bmQoKDEgLSBlYXNlKSAqIHBhcnNl
SW50KGNvbG9yMS5zdWJzdHJpbmcoMiwgNCksIDE2KSArIGVhc2UgKiBwYXJzZUlu
dChjb2xvcjIuc3Vic3RyaW5nKDIsIDQpLCAxNikpOw0KICAgIGxldCBibHVlID0g
TWF0aC5yb3VuZCgoMSAtIGVhc2UpICogcGFyc2VJbnQoY29sb3IxLnN1YnN0cmlu
Zyg0LCA2KSwgMTYpICsgZWFzZSAqIHBhcnNlSW50KGNvbG9yMi5zdWJzdHJpbmco
NCwgNiksIDE2KSk7DQogICAgcmV0dXJuIHJlZC50b1N0cmluZygxNikucGFkU3Rh
cnQoMiwgIjAiKSArIGdyZWVuLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLCAiMCIp
ICsgYmx1ZS50b1N0cmluZygxNikucGFkU3RhcnQoMiwgIjAiKTsNCiAgfSBlbHNl
IHsNCiAgICByZXR1cm4gIkZGRkZGRiI7DQogIH0NCn0sIHRydWUpDQoNCmZ1bmN0
aW9uIHplcm9hbmRvbmUobm93ViwgbWluViwgbWF4Vikgew0KICByZXR1cm4gKE1h
dGgubWluKE1hdGgubWF4KG5vd1YsIG1pblYpLCBtYXhWKSAtIG1pblYpIC8gKG1h
eFYgLSBtaW5WKTsNCn0NCmZ1bmN0aW9uIGVhc2VJblNpbmUodCkge3JldHVybiAx
IC0gTWF0aC5jb3MoKHQgKiBNYXRoLlBJKSAvIDIpO30NCmZ1bmN0aW9uIGVhc2VP
dXRTaW5lKHQpIHtyZXR1cm4gTWF0aC5zaW4oKHQgKiBNYXRoLlBJKSAvIDIpO30N
CmZ1bmN0aW9uIGVhc2VJbk91dFNpbmUodCkge3JldHVybiAtKE1hdGguY29zKE1h
dGguUEkgKiB0KSAtIDEpIC8gMjt9DQpmdW5jdGlvbiBlYXNlSW5RdWFkKHQpIHty
ZXR1cm4gdCAqIHQ7fQ0KZnVuY3Rpb24gZWFzZU91dFF1YWQodCkge3JldHVybiAx
IC0gKDEgLSB0KSAqICgxIC0gdCk7fQ0KZnVuY3Rpb24gZWFzZUluT3V0UXVhZCh0
KSB7cmV0dXJuIHQgPCAwLjUgPyAyICogdCAqIHQgOiAxIC0gTWF0aC5wb3coLTIg
KiB0ICsgMiwgMikgLyAyO30NCmZ1bmN0aW9uIGVhc2VJbkN1YmljKHQpIHtyZXR1
cm4gdCAqIHQgKiB0O30NCmZ1bmN0aW9uIGVhc2VPdXRDdWJpYyh0KSB7cmV0dXJu
IDEgLSBNYXRoLnBvdygxIC0gdCwgMyk7fQ0KZnVuY3Rpb24gZWFzZUluT3V0Q3Vi
aWModCkge3JldHVybiB0IDwgMC41ID8gNCAqIHQgKiB0ICogdCA6IDEgLSBNYXRo
LnBvdygtMiAqIHQgKyAyLCAzKSAvIDI7fQ0KZnVuY3Rpb24gZWFzZUluUXVhcnQo
dCkge3JldHVybiB0ICogdCAqIHQgKiB0O30NCmZ1bmN0aW9uIGVhc2VPdXRRdWFy
dCh0KSB7cmV0dXJuIDEgLSBNYXRoLnBvdygxIC0gdCwgNCk7fQ0KZnVuY3Rpb24g
ZWFzZUluT3V0UXVhcnQodCkge3JldHVybiB0IDwgMC41ID8gOCAqIHQgKiB0ICog
dCAqIHQgOiAxIC0gTWF0aC5wb3coLTIgKiB0ICsgMiwgNCkgLyAyO30NCmZ1bmN0
aW9uIGVhc2VJblF1aW50KHQpIHtyZXR1cm4gdCAqIHQgKiB0ICogdCAqIHQ7fQ0K
ZnVuY3Rpb24gZWFzZU91dFF1aW50KHQpIHtyZXR1cm4gMSAtIE1hdGgucG93KDEg
LSB0LCA1KTt9DQpmdW5jdGlvbiBlYXNlSW5PdXRRdWludCh0KSB7cmV0dXJuIHQg
PCAwLjUgPyAxNiAqIHQgKiB0ICogdCAqIHQgKiB0IDogMSAtIE1hdGgucG93KC0y
ICogdCArIDIsIDUpIC8gMjt9DQpmdW5jdGlvbiBlYXNlSW5FeHBvKHQpIHtyZXR1
cm4gdCA9PT0gMCA/IDAgOiBNYXRoLnBvdygyLCAxMCAqICh0IC0gMSkpO30NCmZ1
bmN0aW9uIGVhc2VPdXRFeHBvKHQpIHtyZXR1cm4gdCA9PT0gMSA/IDEgOiAxIC0g
TWF0aC5wb3coMiwgLTEwICogdCk7fQ0KZnVuY3Rpb24gZWFzZUluT3V0RXhwbyh0
KSB7aWYgKHQgPT09IDApIHJldHVybiAwO2lmICh0ID09PSAxKSByZXR1cm4gMTtp
ZiAodCA8IDAuNSl7cmV0dXJuIDAuNSAqIE1hdGgucG93KDIsIDIwICogdCAtIDEw
KTt9ZWxzZXtyZXR1cm4gMSAtIDAuNSAqIE1hdGgucG93KDIsIC0yMCAqIHQgKyAx
MCk7fX0NCmZ1bmN0aW9uIGVhc2VJbkNpcmModCkge3JldHVybiAxIC0gTWF0aC5z
cXJ0KDEgLSB0ICogdCk7fQ0KZnVuY3Rpb24gZWFzZU91dENpcmModCkge3JldHVy
biBNYXRoLnNxcnQoMSAtICh0IC0gMSkgKiAodCAtIDEpKTt9DQpmdW5jdGlvbiBl
YXNlSW5PdXRDaXJjKHQpIHtpZiAodCA8IDAuNSkge3JldHVybiAwLjUgKiAoMSAt
IE1hdGguc3FydCgxIC0gNCAqIHQgKiB0KSk7fWVsc2V7cmV0dXJuIDAuNSAqIChN
YXRoLnNxcnQoMSAtICgyICogdCAtIDIpICogKDIgKiB0IC0gMikpICsgMSk7fX0N
CmZ1bmN0aW9uIGVhc2VJbkJhY2sodCwgcyA9IDEuNzAxNTgpIHtyZXR1cm4gdCAq
IHQgKiAoKHMgKyAxKSAqIHQgLSBzKTt9DQpmdW5jdGlvbiBlYXNlT3V0QmFjayh0
LCBzID0gMS43MDE1OCkge3JldHVybiAodCA9IHQgLSAxKSAqIHQgKiAoKHMgKyAx
KSAqIHQgKyBzKSArIDE7fQ0KZnVuY3Rpb24gZWFzZUluT3V0QmFjayh0LCBzID0g
MS43MDE1OCkge2lmICgodCAvPSAwLjUpIDwgMSkgcmV0dXJuIDAuNSAqICh0ICog
dCAqICgoKHMgKj0gMS41MjUpICsgMSkgKiB0IC0gcykpO3JldHVybiAwLjUgKiAo
KHQgLT0gMikgKiB0ICogKCgocyAqPSAxLjUyNSkgKyAxKSAqIHQgKyBzKSArIDIp
O30NCmZ1bmN0aW9uIGVhc2VJbkVsYXN0aWModCkge2lmICh0ID09PSAwKSByZXR1
cm4gMDtpZiAodCA9PT0gMSkgcmV0dXJuIDE7cmV0dXJuIC1NYXRoLnBvdygyLCAx
MCAqIHQgLSAxMCkgKiBNYXRoLnNpbigodCAqIDEwIC0gMTAuNzUpICogKDIgKiBN
YXRoLlBJKSAvIDMpO30NCmZ1bmN0aW9uIGVhc2VPdXRFbGFzdGljKHQpIHtpZiAo
dCA9PT0gMCkgcmV0dXJuIDA7aWYgKHQgPT09IDEpIHJldHVybiAxO3JldHVybiBN
YXRoLnBvdygyLCAtMTAgKiB0KSAqIE1hdGguc2luKCh0ICogMTAgLSAwLjc1KSAq
ICgyICogTWF0aC5QSSkgLyAzKSArIDE7fQ0KZnVuY3Rpb24gZWFzZUluT3V0RWxh
c3RpYyh0KSB7aWYgKHQgPT09IDApIHJldHVybiAwO2lmICh0ID09PSAxKSByZXR1
cm4gMTt0ICo9IDI7aWYgKHQgPCAxKXtyZXR1cm4gLTAuNSAqIChNYXRoLnBvdygy
LCAxMCAqIHQgLSAxMCkgKiBNYXRoLnNpbigodCAqIDEwIC0gMTAuNzUpICogKDIg
KiBNYXRoLlBJKSAvIDMpKTt9ZWxzZXtyZXR1cm4gMC41ICogKE1hdGgucG93KDIs
IC0xMCAqICh0IC0gMSkpICogTWF0aC5zaW4oKHQgKiAxMCAtIDEwLjc1KSAqICgy
ICogTWF0aC5QSSkgLyAzKSkgKyAxO319DQpmdW5jdGlvbiBlYXNlSW5Cb3VuY2Uo
dCkge3JldHVybiAxIC0gZWFzZU91dEJvdW5jZSgxIC0gdCk7fQ0KZnVuY3Rpb24g
ZWFzZU91dEJvdW5jZSh0KSB7aWYgKHQgPCAoMSAvIDIuNzUpKSB7cmV0dXJuIDcu
NTYyNSAqIHQgKiB0O31lbHNlIGlmKHQgPCAoMiAvIDIuNzUpKXtyZXR1cm4gNy41
NjI1ICogKHQgLT0gKDEuNSAvIDIuNzUpKSAqIHQgKyAwLjc1O31lbHNlIGlmKHQg
PCAoMi41IC8gMi43NSkpe3JldHVybiA3LjU2MjUgKiAodCAtPSAoMi4yNSAvIDIu
NzUpKSAqIHQgKyAwLjkzNzU7fWVsc2V7cmV0dXJuIDcuNTYyNSAqICh0IC09ICgy
LjYyNSAvIDIuNzUpKSAqIHQgKyAwLjk4NDM3NTt9fQ0KZnVuY3Rpb24gZWFzZUlu
T3V0Qm91bmNlKHQpIHtpZiAodCA8IDAuNSkgcmV0dXJuIGVhc2VJbkJvdW5jZSh0
ICogMikgKiAwLjU7cmV0dXJuIGVhc2VPdXRCb3VuY2UodCAqIDIgLSAxKSAqIDAu
NSArIDAuNTt9
